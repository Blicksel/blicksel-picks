---
export interface Props {
  url: string;
  text?: string;
  price?: string;
  variant?: 'primary' | 'secondary';
}

const { url, text = 'View on Amazon', price, variant = 'primary' } = Astro.props;

const baseClasses = 'inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2';
const variants = {
  primary: 'bg-accent-500 hover:bg-accent-600 text-white focus:ring-accent-500 shadow-lg hover:shadow-xl',
  secondary: 'bg-primary-500 hover:bg-primary-600 text-white focus:ring-primary-500 shadow-lg hover:shadow-xl'
};
---

<div class="affiliate-button-container">
  <a
    href={url}
    target="_blank"
    rel="noopener noreferrer sponsored"
    class={`${baseClasses} ${variants[variant]}`}
  >
    <svg class="mr-2 w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
      <path d="M13.7 2c-.4 0-.8.1-1.1.4L4 10.9c-.6.6-.6 1.5 0 2.1l8.6 8.5c.6.6 1.5.6 2.1 0l8.5-8.6c.6-.6.6-1.5 0-2.1L14.7 2.4c-.3-.3-.7-.4-1-.4zm0 2.1l7.5 7.5-7.5 7.5L6.2 11.6l7.5-7.5z"/>
    </svg>
    {text}
    {price && <span class="ml-2 font-bold">{price}</span>}
  </a>
  <p class="text-xs text-gray-500 mt-2 italic">
    * As an Amazon Associate, we earn from qualifying purchases.
  </p>
</div>

<style>
  .affiliate-button-container a:hover {
    transform: translateY(-2px);
  }
</style>
